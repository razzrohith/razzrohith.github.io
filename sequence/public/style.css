:root {
  --felt: #0a3d2e;
  --felt-dark: #062a1f;
  --gold: #fbbf24;
  --gold-dark: #d97706;
  --p1:#e11d48; --p2:#2563eb; --p3:#16a34a; --p4:#d97706;
  --p5:#9333ea; --p6:#0891b2; --p7:#dc2626; --p8:#7c3aed;
  --p9:#0d9488; --p10:#f59e0b;
}

* { box-sizing:border-box; margin:0; padding:0; }
body {
  font-family:'Segoe UI',system-ui,sans-serif;
  background:linear-gradient(135deg,var(--felt-dark),var(--felt));
  color:#e2e8f0;
  min-height:100vh;
  padding:20px;
}
.app { max-width:1400px; margin:0 auto; }
.hidden { display:none!important; }
.overlay {
  position:fixed; inset:0;
  background:rgba(0,0,0,0.85);
  display:flex; align-items:center; justify-content:center;
  z-index:100;
}
.modal {
  background:linear-gradient(135deg,var(--felt),var(--felt-dark));
  border:2px solid var(--gold);
  border-radius:20px;
  padding:30px;
  text-align:center;
  max-width:450px;
  width:90%;
  box-shadow:0 30px 80px rgba(0,0,0,0.7);
}
.modal-actions { margin-top:20px; display:flex; gap:10px; justify-content:center; }

.screen { animation:fadeIn .4s ease; }
@keyframes fadeIn { from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }

h1 {
  font-size:2.8rem;
  background:linear-gradient(90deg,var(--gold),#fef3c7);
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  margin-bottom:10px;
  text-shadow:0 2px 4px rgba(0,0,0,0.5);
}
h2 { font-size:1.8rem; margin-bottom:10px; color:var(--gold); }
.subtitle { color:#cbd5e1; margin-bottom:20px; font-size:1.1rem; }

.btn {
  background:linear-gradient(135deg,var(--gold),var(--gold-dark));
  color:#0f172a;
  border:none;
  padding:12px 24px;
  border-radius:12px;
  cursor:pointer;
  font-size:1rem;
  font-weight:700;
  transition:all .2s ease;
  box-shadow:0 6px 20px rgba(245,158,11,0.3);
}
.btn:hover:not(:disabled){ transform:translateY(-2px); box-shadow:0 10px 28px rgba(245,158,11,0.4); }
.btn:disabled{ opacity:.6; cursor:not-allowed; }
.btn.primary{ background:linear-gradient(135deg,var(--gold),#fef3c7); font-size:1.2rem; padding:16px 32px; }
.btn.small{ padding:8px 16px; font-size:.9rem; }
.btn.danger{ background:linear-gradient(135deg,#ef4444,#b91c1c); color:white; }

.input { width:100%; padding:12px; border-radius:12px; border:1px solid rgba(251,191,36,0.4); background:rgba(15,23,42,0.6); color:var(--gold); font-size:1rem; }
.divider { margin:15px 0; color:#94a3b8; }
.actions { max-width:400px; margin:0 auto; display:flex; flex-direction:column; gap:10px; }
.error { color:#ef4444; margin-top:10px; font-size:.9rem; }

/* LOBBY */
.lobby-controls { margin-top:20px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:center; }
.team-select { display:flex; gap:8px; align-items:center; margin-bottom:10px; }
.room-code { background:rgba(15,23,42,0.7); padding:12px 20px; border-radius:10px; display:inline-flex; align-items:center; gap:10px; margin-bottom:20px; border:1px dashed var(--gold); color:var(--gold); font-weight:700; font-size:1.2rem; }

.player-list { margin:20px 0; max-height:320px; overflow-y:auto; }
.player-card {
  background:rgba(15,23,42,0.6);
  border:1px solid rgba(251,191,36,0.2);
  border-radius:14px;
  padding:14px;
  margin-bottom:8px;
  display:flex; justify-content:space-between; align-items:center;
}
.player-name { font-weight:700; color:#f1f5f9; font-size:1.1rem; }
.player-meta { font-size:.9rem; color:#cbd5e1; }
.ready-badge { color:#22c55e; font-weight:700; }
.not-ready { color:#94a3b8; }
.invite-player { margin-left:8px; }

/* BOARD */
.game-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; flex-wrap:wrap; gap:10px; }
.turn-indicator, .sequences-win {
  background:rgba(15,23,42,0.7);
  padding:12px 20px;
  border-radius:12px;
  border:1px solid rgba(251,191,36,0.3);
  color:var(--gold);
  font-weight:600;
}
.board-container {
  display:flex;
  justify-content:center;
  margin:20px 0;
  background:radial-gradient(ellipse at center, var(--felt-light), var(--felt-dark));
  border-radius:20px;
  padding:20px;
  box-shadow:inset 0 0 30px rgba(0,0,0,0.5), 0 20px 40px rgba(0,0,0,0.3);
  backdrop-filter:blur(4px);
}
.board {
  display:grid;
  grid-template-columns:repeat(10, var(--card-w));
  grid-template-rows:repeat(10, var(--card-h));
  gap:4px;
  background:rgba(0,0,0,0.35);
  padding:8px;
  border-radius:14px;
  box-shadow:inset 0 0 20px rgba(0,0,0,0.6), 0 20px 40px rgba(0,0,0,0.4);
}
.cell {
  width:var(--card-w);
  height:var(--card-h);
  background:rgba(255,255,255,0.15);
  backdrop-filter:blur(10px);
  border-radius:10px;
  position:relative;
  cursor:pointer;
  transition:transform .15s ease, box-shadow .15s ease;
  border:1px solid rgba(255,255,255,0.2);
  box-shadow:0 2px 6px rgba(0,0,0,0.2);
  overflow:hidden;
}
.cell:hover { transform:scale(1.04); z-index:10; box-shadow:0 8px 16px rgba(0,0,0,0.25); }
.cell.wild {
  background:linear-gradient(135deg, #fbbf24, #d97706);
  border:2px solid #fef3c7;
  box-shadow:inset 0 0 10px rgba(255,255,255,0.4), 0 0 12px rgba(251,191,36,0.5);
  display:flex; align-items:center; justify-content:center;
}
.cell.wild::before {
  content:'â˜…';
  font-size:2.2rem;
  color:white;
  text-shadow:0 2px 6px rgba(0,0,0,0.5);
}

.card-bg {
  position:absolute; inset:2px;
  border-radius:6px;
  background:rgba(255,255,255,0.25);
  backdrop-filter:blur(6px);
  box-shadow:inset 0 0 6px rgba(255,255,255,0.6), 0 1px 2px rgba(0,0,0,0.1);
  display:grid;
  place-items:center;
  font-family:'Segoe UI',system-ui,sans-serif;
}
.card-center {
  display:flex;
  flex-direction:column;
  align-items:center;
  line-height:1;
  font-weight:900;
}
.card-center .rank { font-size:1rem; margin-bottom:2px; }
.card-center .suit { font-size:1.6rem; }

.chip {
  position:absolute;
  width:60%; height:60%;
  border-radius:50%;
  top:20%; left:20%;
  box-shadow:0 6px 12px rgba(0,0,0,0.4), inset 0 3px 6px rgba(255,255,255,0.4);
  animation:dropChip .4s cubic-bezier(0.34,1.56,0.64,1);
  z-index:5;
}
.chip.locked::after {
  content:'ðŸ”’';
  position:absolute;
  top:-8px; right:-8px;
  font-size:1rem;
  filter:drop-shadow(0 2px 2px rgba(0,0,0,0.5));
}
.chip.p0 { background:radial-gradient(circle at 30% 30%, #f43f5e, #e11d48); }
.chip.p1 { background:radial-gradient(circle at 30% 30%, #60a5fa, #2563eb); }
.chip.p2 { background:radial-gradient(circle at 30% 30%, #4ade80, #16a34a); }
.chip.p3 { background:radial-gradient(circle at 30% 30%, #fbbf24, #d97706); }
.chip.p4 { background:radial-gradient(circle at 30% 30%, #a78bfa, #9333ea); }
.chip.p5 { background:radial-gradient(circle at 30% 30%, #22d3ee, #0891b2); }
.chip.p6 { background:radial-gradient(circle at 30% 30%, #f87171, #dc2626); }
.chip.p7 { background:radial-gradient(circle at 30% 30%, #a78bfa, #7c3aed); }
.chip.p8 { background:radial-gradient(circle at 30% 30%, #2dd4bf, #0d9488); }
.chip.p9 { background:radial-gradient(circle at 30% 30%, #fbbf24, #f59e0b); }

@keyframes dropChip {
  0% { transform:translateY(-30px) scale(0.5); opacity:0; }
  60% { transform:translateY(5px) scale(1.05); }
  100% { transform:translateY(0) scale(1); opacity:1; }
}

.cell.highlight {
  box-shadow: inset 0 0 0 3px var(--gold), 0 0 16px rgba(251,191,36,0.6);
  transform:scale(1.05);
}

/* HAND */
.hand-area { margin-top:30px; }
.hand-area h3 { color:var(--gold); margin-bottom:12px; text-align:center; font-size:1.3rem; }
.hand {
  display:flex; gap:12px; flex-wrap:wrap; justify-content:center;
  perspective:1000px;
}
.card {
  width: var(--card-w);
  height: var(--card-h);
  background: linear-gradient(135deg, #1e293b, #0f172a);
  border: 2px solid rgba(251,191,36,0.3);
  border-radius: 10px;
  display: grid;
  place-items: center;
  padding: 6px;
  cursor: pointer;
  transition: transform .3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow .3s, border-color .2s;
  position: relative;
  transform-style: preserve-3d;
}
.card:hover:not(.disabled) { transform: translateY(-12px) rotateX(10deg); box-shadow: 0 20px 40px rgba(0,0,0,0.5); border-color: var(--gold); }
.card.selected { border-color: var(--gold); background: linear-gradient(135deg, rgba(251,191,36,0.2), rgba(245,158,11,0.1)); transform: translateY(-16px) rotateX(10deg); box-shadow: 0 25px 50px rgba(251,191,36,0.4); }
.card.disabled { opacity: .5; cursor: not-allowed; }
.card.jack {
  border: 2px solid var(--gold);
  background: linear-gradient(135deg, #1e293b, #0f172a), repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(251,191,36,.07) 5px, rgba(251,191,36,.07) 10px);
  box-shadow: 0 0 12px rgba(251,191,36,0.2);
}
.card .pip {
  font-size: 2.4rem;
  font-weight: 900;
  display: flex;
  flex-direction: column;
  align-items: center;
  line-height: 1;
}
.card .pip .rank { font-size: 1.4rem; margin-bottom: 2px; }
.card .pip .suit { font-size: 2rem; }
.card .red { color: #ef4444; }
.card .black { color: #e2e8f0; }

/* Responsive */
@media (max-width: 900px) {
  :root { --card-w: 52px; --card-h: 52px; }
  .board { gap:3px; padding:5px; }
}
@media (max-width: 600px) {
  :root { --card-w: 42px; --card-h: 42px; }
  .board { gap:2px; padding:3px; }
  .card { padding:4px; }
  .card .pip .rank { font-size:1rem; }
  .card .pip .suit { font-size:1.6rem; }
}